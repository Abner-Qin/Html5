<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
	#btn1{display:block;margin-bottom:20px;}
	#txt4{width:200px;}
</style>
</head>

<body>
<table border='3' style='background:#F9F;'>
	<tr>
    	<th colspan='3'>计算该日是一年中的第几天</th>
    </tr>
    <tr>
    	<td>请输入年份：</td>
        <td><input id='txt1' type='text' /></td>
        <td rowspan='3'>
        	<input id='btn1' type='button' value='计算' />
            <input id='btn2' type='button' value='重置' />
       	</td>
    </tr>
    <tr>
    	<td>请输入月份：</td>
        <td><input id='txt2' type='text' /></td>
    </tr>
    <tr>
    	<td>请输入日：</td>
        <td><input id='txt3' type='text' /></td>
    </tr>
    <tr>
    	<td>计算结果：</td>
        <td colspan='2'><input id='txt4' type='text' /></td>
    </tr>
</table>
<script>
	var txt1=document.getElementById('txt1')
	var txt2=document.getElementById('txt2')
	var txt3=document.getElementById('txt3')
	var txt4=document.getElementById('txt4')
	var btn1=document.getElementById('btn1')
	var btn2=document.getElementById('btn2')
	
	txt1.onblur=function(){
		var reg=/^[1-9]\d{3}$/
		if(!reg.test(txt1.value)){
			alert('请输入正确年份格式')	
		}	
	}
	txt2.onblur=function(){
		var reg=/^([0-9]|(1[0-2]{1}))$/
		if(!reg.test(txt2.value)){
			alert('请输入正确月份格式')	
		}	
	}
	txt3.onblur=function(){
		var reg=/^([0-9]|(1[0-9]{1})|(2[0-9]{1})|(3[01]{1}))$/
		if(!reg.test(txt3.value)){
			alert('请输入正确日格式')	
		}	
	}
	btn1.onclick=function(){
		var date=new Date(parseInt(txt1.value),parseInt(txt2.value),parseInt(txt3.value))
		var odate=date.getTime()
		var date2=new Date(parseInt(txt1.value),0,1)
		var odate2=date2.getTime()
		
		var day=parseInt((odate-odate2)/(24*3600*1000))+1
		txt4.value=day
	}
	btn2.onclick=function(){
		txt1.value=''
		txt2.value=''
		txt3.value=''
		txt4.value=''	
	}
</script>
</body>
</html>
