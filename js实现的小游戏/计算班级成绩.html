<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
table{border:3px solid #6d6d6d;margin:20px auto;}
</style>
</head>

<body>
<table border='1'>
	<tr>
    	<th colspan='3'>动画学院班级成绩计算</th>
    </tr>
    <tr align='center'>
    	<td>班级名称：</td>
        <td><input id='txt1' type='text' /></td>
        <td rowspan='3'><input id='btn1' type='button' value='计算' /></td>
    </tr>
    <tr align='center'>
    	<td>请输入班级人数：</td>
        <td><input id='txt2' type='text' /></td>
    </tr>
    <tr align='center'>
    	<td>班级总成绩：</td>
        <td><input id='txt3' type='text' /></td>
    </tr>
    
     <tr align='center'>
    	<td>班级平均成绩：</td>
        <td><input id='txt4' type='text' /></td>
        <td rowspan='3'><input id='btn2' type='button' value='重置' /></td>
    </tr>
    <tr align='center'>
    	<td>最高成绩：</td>
        <td><input id='txt5' type='text' /></td>
    </tr>
    <tr align='center'>
    	<td>最低成绩：</td>
        <td><input id='txt6' type='text' /></td>
    </tr>
    <tr align='center'>
    	<td>成绩高低排序：</td>
    	<td colspan='2'><textarea id="txt7" cols='30' rows='6'></textarea></td>
    </tr>
</table>
<script>
	var txt1=document.getElementById('txt1')
	var txt2=document.getElementById('txt2')
	var txt3=document.getElementById('txt3')
	var txt4=document.getElementById('txt4')
	var txt5=document.getElementById('txt5')
	var txt6=document.getElementById('txt6')
	var txt7=document.getElementById('txt7')
	var btn1=document.getElementById('btn1')
	var btn2=document.getElementById('btn2')
	
	txt1.onblur=function(){
		var reg=/^(\d*)[\u4e00-\u9fa5]*$/
		if(!reg.test(txt1.value)){
			alert("输入班级错误！")	
		}	
	}
	var sum=0,score=[];
	txt2.onblur=function(){
		var reg=/^\d*$/	
		if(!reg.test(txt2.value)){
			alert('只能输入数字！')	
		}
		for(var i=0;i<parseInt(txt2.value);i++){
			score[i]=parseInt(prompt('请输入第'+i+'个同学的成绩',''))
			sum+=score[i]
		}	
	}
	btn1.onclick=function(){
		txt3.value=sum;	
		txt4.value=sum/parseInt(txt2.value)
		function show(){
			var n=score.length;
			for(var i=0;i<n-1;i++){
				for(var j=0;j<n-1-i;j++){
					if(score[j]>score[j+1]){
						var temp=score[j]
							score[j]=score[j+1]
							score[j+1]=temp	
					}	
				}	
			}
		txt6.value=score[0]
		txt5.value=score[n-1]
		txt7.value=score
		} 
		show()
	}
	btn2.onclick=function(){
		txt1.value=''	
		txt2.value=''
		txt3.value=''
		txt4.value=''
		txt5.value=''
		txt6.value=''
		txt7.value=''
	}	
	
	
</script>
</body>
</html>
