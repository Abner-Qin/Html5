<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>标题</title>
	<meta name="keywords" content="">
	<meta name="description" content="">
	<style>
	*{margin:0;padding:0;}
	fieldset{width:600px;margin:20px auto;text-align:center;}
	#text{width:550px;height:50px;margin-top:20px;}
	#btn1,#btn2,#btn3{width:100px;height:30px;margin-top:20px;}
	#show{margin-top:30px;}
	</style>
</head>
<body>
	<fieldset>
	<legend>web留言本</legend>
	<textarea name="" id="text"></textarea>
	<input type="button" name="" id="btn1" value="添加">
	<input type="button" name="" id="btn2" value="查询">
	<input type="button" name="" id="btn3" value="初始化">
	<div id="show"></div>
	</fieldset>
</body>
<script>
var text=document.getElementById('text')
var btn1=document.getElementById('btn1')
var btn2=document.getElementById('btn2')
var btn3=document.getElementById('btn3')
var show=document.getElementById('show')

	btn1.onclick=function(){
	var str=text.value;
	var date=new Date();
	var time=date.getTime();
	
	localStorage.setItem(time,str);
	text.value='';
}

	btn2.onclick=function(){
	var table='<table border="1">'
	var olength=localStorage.length;
	
	for (var i = 0; i<olength; i++) {
		var keys=localStorage.key(i);
		var data1=new Date();
		data1.setTime(keys);
		var aa=data1.toGMTString();
		var str=localStorage.getItem(keys);
		table+='<tr><td>'+str+'</td><td>'+aa+'</td></tr>'
	}
	table+='</table>'
	show.innerHTML=table;
}

btn3.onclick=function(){
		localStorage.clear()
	}
	
</script>
</html>